{"mappings":"A,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,O,c,C,E,O,C,W,C,I,I,E,I,A,G,E,E,W,C,E,a,C,C,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,G,E,Q,S,C,C,C,ECVA,EAAA,OAAA,CAAiB,IAAA,IAAoB,uCAAA,YAAA,GAAA,EAAwC,QAAQ,E,G,E,Q,S,C,C,C,ECArF,EAAA,OAAA,CAAiB,IAAA,IAAoB,4CAAA,YAAA,GAAA,EAA6C,QAAQ,E,G,E,Q,S,C,C,C,ECA1F,EAAA,OAAA,CAAiB,IAAA,IAAoB,4CAAA,YAAA,GAAA,EAA6C,QAAQ,E,GCA1F,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,4T,E,SECrF,MAAM,EAAoB,SAAS,aAAa,CAAC,8BAC3C,EAAiB,SAAS,aAAa,CAAC,6BAMxC,EAAa,AAAA,IACpB,AAAS,aAAT,GAEF,EAAkB,SAAS,CAAC,GAAG,CAAC,WAChC,EAAkB,SAAS,CAAC,MAAM,CAAC,QAAS,UAC5C,EAAe,SAAS,CAAC,MAAM,CAAC,WAChC,EAAe,SAAS,CAAC,GAAG,CAAC,OAAQ,WACnB,aAAT,IAET,EAAe,SAAS,CAAC,GAAG,CAAC,WAC7B,EAAe,SAAS,CAAC,MAAM,CAAC,OAAQ,UACxC,EAAkB,SAAS,CAAC,MAAM,CAAC,WACnC,EAAkB,SAAS,CAAC,GAAG,CAAC,QAAS,UAE7C,E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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e1919e639c730e4c.js","node_modules/@parcel/runtime-js/lib/runtime-16cfbbc3c4f72df9.js","node_modules/@parcel/runtime-js/lib/runtime-2e4564417994bfe5.js","node_modules/@parcel/runtime-js/lib/runtime-8bde5abb7b4b1c83.js","src/js/indexModules.js","src/js/fetch/viewSwitcher.js","src/js/fetch/fetchCategories.js","src/js/fetch/fetchBooks.js","src/js/fetch/fetchBookById.js","src/js/modal/modalHandler.js","src/js/modal/handleBookAddition.js","src/js/fetch/bookMarkup.js","src/js/fetch/fetchBooksByCategories.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire0688\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire0688\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"ifJdc\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $d49cb2d7b03f6a77$export$6503ec6e8aabbaf, (v) => $d49cb2d7b03f6a77$export$6503ec6e8aabbaf = v);\nvar $d49cb2d7b03f6a77$export$6503ec6e8aabbaf;\nvar $d49cb2d7b03f6a77$export$f7ad0328861e2f03;\n\"use strict\";\nvar $d49cb2d7b03f6a77$var$mapping = new Map();\nfunction $d49cb2d7b03f6a77$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$d49cb2d7b03f6a77$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $d49cb2d7b03f6a77$var$resolve(id) {\n    var resolved = $d49cb2d7b03f6a77$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$d49cb2d7b03f6a77$export$6503ec6e8aabbaf = $d49cb2d7b03f6a77$var$register;\n$d49cb2d7b03f6a77$export$f7ad0328861e2f03 = $d49cb2d7b03f6a77$var$resolve;\n\n});\n\nparcelRegister(\"jaNa7\", function(module, exports) {\nmodule.exports = new URL(\"amazon.702e28b6.png\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"4g0bO\", function(module, exports) {\nmodule.exports = new URL(\"apple-books.75f7682c.png\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"cGAW0\", function(module, exports) {\nmodule.exports = new URL(\"placeholder.18062ded.jpg\", import.meta.url).toString();\n\n});\n\nvar $22181513ff3a47e3$exports = {};\n\n(parcelRequire(\"ifJdc\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"lbZNw\",\"index.64e54ad2.js\",\"i6YUf\",\"amazon.702e28b6.png\",\"jHlqi\",\"apple-books.75f7682c.png\",\"9zlPt\",\"placeholder.18062ded.jpg\",\"2FlHe\",\"shopping-list.abed8002.js\",\"34yHB\",\"shopping-list.runtime.8454609e.js\"]'));\n\nparcelRequire(\"5fMSm\");\n// DOM elements representing containers for top books and category books\nconst $27e6227805be987d$export$c61ab8dbb8180937 = document.querySelector('[data-content=\"top-books\"]');\nconst $27e6227805be987d$export$278e8a5cfb9675fd = document.querySelector('[data-content=\"category\"]');\nconst $27e6227805be987d$export$adaf8a367aa41030 = (view)=>{\n    if (view === \"topBooks\") {\n        // Show and position the topBooksContainer while hiding the booksContainer\n        $27e6227805be987d$export$c61ab8dbb8180937.classList.add(\"visible\");\n        $27e6227805be987d$export$c61ab8dbb8180937.classList.remove(\"right\", \"hidden\");\n        $27e6227805be987d$export$278e8a5cfb9675fd.classList.remove(\"visible\");\n        $27e6227805be987d$export$278e8a5cfb9675fd.classList.add(\"left\", \"hidden\");\n    } else if (view === \"category\") {\n        // Show and position the booksContainer while hiding the topBooksContainer\n        $27e6227805be987d$export$278e8a5cfb9675fd.classList.add(\"visible\");\n        $27e6227805be987d$export$278e8a5cfb9675fd.classList.remove(\"left\", \"hidden\");\n        $27e6227805be987d$export$c61ab8dbb8180937.classList.remove(\"visible\");\n        $27e6227805be987d$export$c61ab8dbb8180937.classList.add(\"right\", \"hidden\");\n    }\n};\n\n\n\nvar $5fMSm = parcelRequire(\"5fMSm\");\n/**\n * Displays book categories in the specified HTML container.\n * Fetches book categories using the fetchBooks function and updates the DOM accordingly.\n *\n * @returns {void}\n */ const $fa7ed9398f6878f9$var$displayCategories = async ()=>{\n    // Select the HTML container for categories.\n    const categoriesContainer = document.querySelector(\".category-list\");\n    // Fetch book categories from the API.\n    const bookCategories = await (0, $5fMSm.fetchCategories)();\n    // Sorting categories alphabetically.\n    bookCategories.sort((a, b)=>a.list_name.localeCompare(b.list_name));\n    // Create initial markup for \"All categories\" button.\n    let markup = `<div>\n          <button class=\"category-list__item active\" type=\"button\" name=\"All categories\">All categories</button>\n        </div>`;\n    // Append markup for each book category obtained from the API.\n    markup += bookCategories.map(({ list_name: list_name })=>{\n        return `<div>\n            <button class=\"category-list__item\" type=\"button\" name=\"${list_name}\">${list_name}</button>\n        </div>`;\n    }).join(\"\");\n    // Insert the generated markup into the categories container.\n    categoriesContainer.insertAdjacentHTML(\"beforeend\", markup);\n};\n// Call the displayCategories function to render book categories in the UI.\n$fa7ed9398f6878f9$var$displayCategories();\n\n\n// Importing functions and elements from other modules\n\nvar $5fMSm = parcelRequire(\"5fMSm\");\n// Importing functions and elements from other modules\n\nvar $5fMSm = parcelRequire(\"5fMSm\");\n/**\n * DOM element representing the container for the content inside the popup modal.\n * @type {HTMLElement}\n */ const $de26aedcbf813521$export$56c24f306bd986cf = document.querySelector(\".modal-pop-up-content\");\nconst $de26aedcbf813521$export$313c6d35f75fc0e = (showModal)=>{\n    /**\n   * DOM element representing the backdrop of the popup modal.\n   * @type {HTMLElement}\n   */ const backdrop = document.querySelector(\".backdrop-pop-up\");\n    if (showModal) // Show the modal by removing the 'is-hidden' class from the backdrop\n    backdrop.classList.remove(\"is-hidden\");\n    else // Hide the modal by adding the 'is-hidden' class to the backdrop\n    backdrop.classList.add(\"is-hidden\");\n};\n/**\n * DOM element representing the backdrop of the popup modal.\n * @type {HTMLElement}\n */ const $de26aedcbf813521$var$backdrop = document.querySelector(\".backdrop-pop-up\");\n/**\n * Event listener for clicking on the modal backdrop. Closes the modal.\n */ $de26aedcbf813521$var$backdrop.addEventListener(\"click\", function(event) {\n    // Check if the click occurred on the backdrop (not its children)\n    if (event.target === $de26aedcbf813521$var$backdrop) // Close the modal only if the click occurred directly on the backdrop\n    $de26aedcbf813521$export$313c6d35f75fc0e(false);\n});\n/**\n * DOM element representing the close button inside the modal.\n * @type {HTMLElement}\n */ const $de26aedcbf813521$var$closeButton = document.querySelector(\".close-modal-button\");\n/**\n * Event listener for clicking on the close button. Clears the modal content and hides it.\n */ $de26aedcbf813521$var$closeButton.addEventListener(\"click\", function() {\n    // Clear the content inside the modal container\n    $de26aedcbf813521$export$56c24f306bd986cf.innerHTML = \"\";\n    // Hide the modal\n    $de26aedcbf813521$export$313c6d35f75fc0e(false);\n});\n// Closing with keyboard keys\ndocument.addEventListener(\"keydown\", function(event) {\n    if (event.key === \"Escape\") $de26aedcbf813521$export$313c6d35f75fc0e(false);\n});\n\n\n// Importing functions from localStorage module for managing local storage\n\nvar $85S5k = parcelRequire(\"85S5k\");\n\nvar $46SdE = parcelRequire(\"46SdE\");\n\nvar $gwo96 = parcelRequire(\"gwo96\");\nconst $3f8b070706872eb3$export$b88da0071e018418 = ()=>{\n    // Selecting all buttons with class 'modal-pop-up-btn'\n    const addToShoppingListButtons = document.querySelectorAll(\".modal-pop-up-btn\");\n    // Checking the authentication state when the page loads\n    (0, $46SdE.onAuthStateChanged)((0, $gwo96.auth), (user)=>{\n        if (user) // If the user is authenticated\n        addToShoppingListButtons.forEach(function(button) {\n            const bookId = button.getAttribute(\"data-book-id\");\n            // Checking if the book is already in localStorage\n            const isBookInLocalStorage = (0, $85S5k.checkIfBookInLocalStorage)(bookId);\n            if (isBookInLocalStorage) {\n                // If the book is in localStorage, change the button text and show congratulatory message\n                button.textContent = \"Remove from the shopping list\";\n                (0, $85S5k.toggleCongratulatoryMessage)(true);\n            } else // If the book is not in localStorage, hide the congratulatory message\n            (0, $85S5k.toggleCongratulatoryMessage)(false);\n            // Adding click event listener to the button\n            button.addEventListener(\"click\", function() {\n                // Checking if the book is already in localStorage\n                const isBookInLocalStorage = (0, $85S5k.checkIfBookInLocalStorage)(bookId);\n                if (isBookInLocalStorage) {\n                    // If the book is in localStorage, remove it and change the button text\n                    (0, $85S5k.removeFromLocalStorage)(bookId);\n                    button.textContent = \"Add to shopping list\";\n                    // Hide the congratulatory message\n                    (0, $85S5k.toggleCongratulatoryMessage)(false);\n                } else {\n                    // If the book is not in localStorage, add it and change the button text\n                    (0, $85S5k.addToLocalStorage)(bookId);\n                    button.textContent = \"Remove from the shopping list\";\n                    // Show the congratulatory message\n                    (0, $85S5k.toggleCongratulatoryMessage)(true);\n                }\n            });\n        });\n        else {\n            // If the user is not authenticated\n            (0, $85S5k.toggleCongratulatoryMessage)(false);\n            // Show authentication message\n            document.querySelector(\".auth-message\").style.display = \"block\";\n            // Disable the buttons and visually indicate it\n            addToShoppingListButtons.forEach(function(button) {\n                button.id = \"not-allowed\";\n            });\n        }\n    });\n};\n\n\n\n\n\nconst $607d65135f87f2d8$export$bf9992c3deac5c9e = async (bookId)=>{\n    // Open the modal window\n    (0, $de26aedcbf813521$export$313c6d35f75fc0e)(true);\n    // Fetch book details using the provided bookId\n    const bookById = await (0, $5fMSm.fetchBookById)(bookId);\n    // Destructure book details\n    const { _id: _id, title: title, author: author, book_image: book_image, description: description, buy_links: buy_links } = bookById;\n    // Filter buy links to include only 'Amazon' and 'Apple Books'\n    const buyLinks = [\n        {\n            name: \"Amazon\",\n            imageUrl: new URL((parcelRequire(\"jaNa7\"))).href,\n            buyUrl: \"\"\n        },\n        {\n            name: \"Apple Books\",\n            imageUrl: new URL((parcelRequire(\"4g0bO\"))).href,\n            buyUrl: \"\"\n        }\n    ];\n    const filteredBuyLinks = buy_links.filter((link)=>buyLinks.some((store)=>store.name === link.name));\n    buyLinks.forEach((store)=>{\n        const link = filteredBuyLinks.find((filteredLink)=>filteredLink.name === store.name);\n        store.buyUrl = link ? link.url : \"\";\n    });\n    // Generate HTML markup for buy links\n    const buyLinksMarkup = buyLinks.map((store)=>`<a href=\"${store.buyUrl}\" target=\"_blank\"><img src=\"${store.imageUrl}\" alt=\"${store.name}\"></a>`).join(\"\");\n    const placeholderImageURL = new URL((parcelRequire(\"cGAW0\"))).href;\n    // Generate modal HTML markup\n    const markup = `\n    <div class=\"modal\">\n      <div class=\"modal__info\">\n        <div class=\"modal__cover\">\n          <img class=\"lazyload\" src=\"${placeholderImageURL}\" data-src=\"${book_image}\" alt=\"${title}\">\n        </div>\n        <div class=\"modal__details\">\n          <div class=\"modal__details-header\">\n            <p class=\"modal__details-title\">${title}</p>\n            <p class=\"modal__details-author\">${author}</p>\n          </div>\n          <p class=\"modal__details-description\">${description ? description : \"Sorry, the description for this book is not available.\"}</p>\n          <div class=\"modal__details-links\">${buyLinksMarkup}</div>\n        </div>\n      </div>\n    </div>\n    <button type=\"button\" class=\"modal-pop-up-btn button\" data-book-id=\"${_id}\">Add to shopping list</button>\n  `;\n    // Insert the modal markup into the modal container\n    (0, $de26aedcbf813521$export$56c24f306bd986cf).innerHTML = markup;\n    // Call the bookAddButtonHandler to handle the \"Add to Shopping List\" button functionality\n    (0, $3f8b070706872eb3$export$b88da0071e018418)();\n};\n\n\n\n/**\n * Generate HTML markup for displaying a book in the UI.\n *\n * @param {object} bookData - Object containing book details.\n * @param {string} bookData._id - Unique identifier for the book.\n * @param {string} bookData.title - Title of the book.\n * @param {string} bookData.author - Author of the book.\n * @param {string} bookData.book_image - URL of the book cover image.\n * @returns {string} - HTML markup for the book.\n */ \nconst $947af5597400bf1e$export$fc330cc8afb2a391 = ({ _id: _id, title: title, author: author, book_image: book_image })=>{\n    // URL for a placeholder image in case the actual cover image is not available\n    const placeholderImageURL = new URL((parcelRequire(\"cGAW0\"))).href;\n    // HTML markup for displaying a book with lazy-loaded cover image\n    return `\n      <div class=\"books__book\" data-book-id=\"${_id}\">\n        <div class=\"books__book--cover\">\n          <img class=\"lazyload\" \n            src=\"${placeholderImageURL}\"\n            data-src=\"${book_image}\"\n            alt=\"${title}\">\n          <div class=\"books__book--cover-overlay\">\n            <div class=\"books__book--cover-overlay-text\">Quick View</div>\n          </div>\n        </div>\n        <div class=\"books__book--title\">${title}</div>\n        <div class=\"books__book--author\">${author}</div>\n      </div>\n    `;\n};\n\n\nconst $2cc47901a270de70$export$4dba50aa73299466 = async ()=>{\n    // Switch the view to 'topBooks'\n    (0, $27e6227805be987d$export$adaf8a367aa41030)(\"topBooks\");\n    // Fetch top books from the API.\n    const topBooks = await (0, $5fMSm.fetchTopBooks)();\n    // Generate markup for each top book category.\n    const markup = topBooks.map((category)=>{\n        // Generate markup for each book in the current category\n        const booksMarkup = category.books.map((book)=>(0, $947af5597400bf1e$export$fc330cc8afb2a391)(book)).join(\"\");\n        return `\n        <div class=\"books__category\">\n          <h2 class=\"books__category--title\">${category.list_name}</h2>\n          <div class=\"books__category--books\">\n            ${booksMarkup}\n          </div>\n          <button class=\"see-more-btn\" type=\"button\" name=\"See more\" data-category=\"${category.list_name}\">See more</button>\n        </div>\n      `;\n    }).join(\"\");\n    // Insert the generated markup into the top books container.\n    (0, $27e6227805be987d$export$c61ab8dbb8180937).innerHTML = `\n    <h1 class=\"books__heading\">Best Sellers <span class=\"books__heading--highlight\">Books</span></h1>\n    ${markup}`;\n    // Select all elements with the class 'books__category--books'\n    const bookContainers = document.querySelectorAll(\".books__category--books\");\n    const blocks = document.querySelectorAll(\".books__category\");\n    function checkBlocksVisibility() {\n        let windowHeight = window.innerHeight;\n        // Iterate over each block and check its visibility\n        blocks.forEach((block)=>{\n            let blockPosition = block.getBoundingClientRect().top;\n            // Check if the block is in the viewport\n            if (blockPosition < windowHeight + 400) {\n                block.style.transition = \"opacity 0.5s ease-in-out, transform 0.5s ease-in-out\";\n                block.style.opacity = \"1\";\n                block.style.transform = \"translateY(0)\";\n            } else {\n                block.style.transition = \"opacity 0.5s ease-in-out, transform 0.5s ease-in-out\";\n                block.style.opacity = \"0\";\n                block.style.transform = \"translateY(100%)\";\n            }\n        });\n    }\n    // Initial check for block visibility\n    checkBlocksVisibility();\n    // Add a scroll event listener to continuously check and update block visibility\n    window.addEventListener(\"scroll\", function() {\n        checkBlocksVisibility();\n    });\n    // Iterate over each book container\n    bookContainers.forEach((bookContainer)=>{\n        // Add event listener for click events on books inside the current container\n        bookContainer.addEventListener(\"click\", (event)=>{\n            const targetBook = event.target.closest(\".books__book\");\n            // If a book is clicked, get its ID and display details\n            if (targetBook) {\n                const bookId = targetBook.dataset.bookId;\n                (0, $607d65135f87f2d8$export$bf9992c3deac5c9e)(bookId);\n            }\n        });\n    });\n};\n// Call the displayTopBooks function to render top books in the UI.\n$2cc47901a270de70$export$4dba50aa73299466();\n\n\n// Importing functions and elements from other modules\n\nvar $5fMSm = parcelRequire(\"5fMSm\");\n\n\n\n\n/**\n * Display books for a specific category.\n * @param {string} categoryName - The name of the category.\n */ const $34f89606dfb6c23a$var$displayBooksByCategory = async (categoryName)=>{\n    // Fetch books for the specified category\n    const booksByCategory = await (0, $5fMSm.fetchBooksByCategory)(categoryName);\n    // Check if the response is valid\n    if (!booksByCategory || !Array.isArray(booksByCategory)) {\n        console.error(\"Invalid response from fetchBooks:\", booksByCategory);\n        return;\n    }\n    // Switch the view to the 'category' view\n    (0, $27e6227805be987d$export$adaf8a367aa41030)(\"category\");\n    // Generate markup for the books in the category\n    const booksMarkup = booksByCategory.flat().map((book)=>(0, $947af5597400bf1e$export$fc330cc8afb2a391)(book)).join(\"\");\n    // Generate markup for the category title and books\n    const lastWord = categoryName.split(\" \").pop();\n    const categoryTitleMarkup = `\n    <div class=\"books-category visible\" data-category=\"${categoryName}\">\n      <h2 class=\"books__heading\">${categoryName.replace(lastWord, `<span class=\"books__heading--highlight\">${lastWord}</span>`)}</h2>\n      <div class=\"books__category--books\">\n        ${booksMarkup}\n      </div>\n    </div>\n  `;\n    // Update the content of the booksContainer with the generated markup\n    (0, $27e6227805be987d$export$278e8a5cfb9675fd).innerHTML = categoryTitleMarkup;\n    // Add click event listeners to each book for displaying details\n    const books = document.querySelectorAll(\".books__book\");\n    books.forEach((book)=>{\n        book.addEventListener(\"click\", ()=>{\n            const bookId = book.dataset.bookId;\n            (0, $607d65135f87f2d8$export$bf9992c3deac5c9e)(bookId);\n        });\n    });\n};\n/**\n * Scroll to the category section.\n */ const $34f89606dfb6c23a$var$scrollToCategory = ()=>{\n    if (0, $27e6227805be987d$export$278e8a5cfb9675fd) (0, $27e6227805be987d$export$278e8a5cfb9675fd).scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\"\n    });\n    else console.error(\"Books not found.\");\n};\n// Event listener for 'See more' button in the topBooksContainer\n(0, $27e6227805be987d$export$c61ab8dbb8180937).addEventListener(\"click\", (event)=>{\n    const seeMoreBtn = event.target.closest('button[name=\"See more\"]');\n    if (seeMoreBtn) {\n        // Get the category name from the button attribute\n        const categoryName = seeMoreBtn.getAttribute(\"data-category\");\n        // Display books for the selected category\n        $34f89606dfb6c23a$var$displayBooksByCategory(categoryName);\n        // Highlight the active category button and scroll to it\n        const categoryListButtons = document.querySelectorAll(\".category-list button[name]\");\n        categoryListButtons.forEach((button)=>{\n            button.classList.remove(\"active\");\n            if (button.getAttribute(\"name\") === categoryName) {\n                button.classList.add(\"active\");\n                button.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"center\"\n                });\n            }\n        });\n        // Scroll to the category section\n        $34f89606dfb6c23a$var$scrollToCategory();\n    }\n});\n// Event listener for category buttons in the categoryListContainer\nconst $34f89606dfb6c23a$var$categoryListContainer = document.querySelector(\".category-list\");\n$34f89606dfb6c23a$var$categoryListContainer.addEventListener(\"click\", (event)=>{\n    const targetButton = event.target.closest(\"button[name]\");\n    if (targetButton) {\n        // Remove 'active' class from all buttons and add it to the clicked button\n        const allButtons = document.querySelectorAll(\"button[name]\");\n        allButtons.forEach((button)=>button.classList.remove(\"active\"));\n        targetButton.classList.add(\"active\");\n        // Get the category name from the clicked button\n        const categoryName = targetButton.getAttribute(\"name\");\n        // Display books based on the selected category or display top books for 'All categories'\n        if (categoryName === \"All categories\") (0, $2cc47901a270de70$export$4dba50aa73299466)();\n        else {\n            $34f89606dfb6c23a$var$displayBooksByCategory(categoryName);\n            // Scroll to the category section\n            $34f89606dfb6c23a$var$scrollToCategory();\n        }\n    }\n});\n\n\n\n\n\n//# sourceMappingURL=index.64e54ad2.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = new __parcel__URL__(\"amazon.702e28b6.png\").toString();","module.exports = new __parcel__URL__(\"apple-books.75f7682c.png\").toString();","module.exports = new __parcel__URL__(\"placeholder.18062ded.jpg\").toString();","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"lbZNw\\\",\\\"index.64e54ad2.js\\\",\\\"i6YUf\\\",\\\"amazon.702e28b6.png\\\",\\\"jHlqi\\\",\\\"apple-books.75f7682c.png\\\",\\\"9zlPt\\\",\\\"placeholder.18062ded.jpg\\\",\\\"2FlHe\\\",\\\"shopping-list.abed8002.js\\\",\\\"34yHB\\\",\\\"shopping-list.runtime.8454609e.js\\\"]\"));","import './fetch/bookAPI.js';\nimport './fetch/viewSwitcher.js';\nimport './fetch/fetchCategories.js';\nimport './fetch/fetchBooks.js';\nimport './fetch/fetchBooksByCategories.js';\nimport './fetch/fetchBookById.js';\n","// DOM elements representing containers for top books and category books\nexport const topBooksContainer = document.querySelector('[data-content=\"top-books\"]');\nexport const booksContainer = document.querySelector('[data-content=\"category\"]');\n\n/**\n * Switch between views (top books and category books) by manipulating CSS classes.\n * @param {string} view - The view to switch to ('topBooks' or 'category').\n */\nexport const switchView = view => {\n  if (view === 'topBooks') {\n    // Show and position the topBooksContainer while hiding the booksContainer\n    topBooksContainer.classList.add('visible');\n    topBooksContainer.classList.remove('right', 'hidden');\n    booksContainer.classList.remove('visible');\n    booksContainer.classList.add('left', 'hidden');\n  } else if (view === 'category') {\n    // Show and position the booksContainer while hiding the topBooksContainer\n    booksContainer.classList.add('visible');\n    booksContainer.classList.remove('left', 'hidden');\n    topBooksContainer.classList.remove('visible');\n    topBooksContainer.classList.add('right', 'hidden');\n  }\n};\n","import { fetchCategories } from './bookAPI.js';\n\n/**\n * Displays book categories in the specified HTML container.\n * Fetches book categories using the fetchBooks function and updates the DOM accordingly.\n *\n * @returns {void}\n */\nconst displayCategories = async () => {\n  // Select the HTML container for categories.\n  const categoriesContainer = document.querySelector('.category-list');\n\n  // Fetch book categories from the API.\n  const bookCategories = await fetchCategories();\n\n  // Sorting categories alphabetically.\n  bookCategories.sort((a, b) => a.list_name.localeCompare(b.list_name));\n\n  // Create initial markup for \"All categories\" button.\n  let markup = `<div>\n          <button class=\"category-list__item active\" type=\"button\" name=\"All categories\">All categories</button>\n        </div>`;\n\n  // Append markup for each book category obtained from the API.\n  markup += bookCategories\n    .map(({ list_name }) => {\n      return `<div>\n            <button class=\"category-list__item\" type=\"button\" name=\"${list_name}\">${list_name}</button>\n        </div>`;\n    })\n    .join('');\n\n  // Insert the generated markup into the categories container.\n  categoriesContainer.insertAdjacentHTML('beforeend', markup);\n};\n\n// Call the displayCategories function to render book categories in the UI.\ndisplayCategories();\n","// Importing functions and elements from other modules\nimport { fetchTopBooks } from './bookAPI.js';\nimport { displayBookById } from './fetchBookById.js';\nimport { topBooksContainer, switchView } from './viewSwitcher.js';\nimport { createBookMarkup } from './bookMarkup.js';\n\n/**\n * Displays top books in the specified HTML container.\n * Fetches top books using the fetchBooks function and updates the DOM accordingly.\n *\n * @returns {void}\n */\nexport const displayTopBooks = async () => {\n  // Switch the view to 'topBooks'\n  switchView('topBooks');\n\n  // Fetch top books from the API.\n  const topBooks = await fetchTopBooks();\n\n  // Generate markup for each top book category.\n  const markup = topBooks\n    .map(category => {\n      // Generate markup for each book in the current category\n      const booksMarkup = category.books.map(book => createBookMarkup(book)).join('');\n\n      return `\n        <div class=\"books__category\">\n          <h2 class=\"books__category--title\">${category.list_name}</h2>\n          <div class=\"books__category--books\">\n            ${booksMarkup}\n          </div>\n          <button class=\"see-more-btn\" type=\"button\" name=\"See more\" data-category=\"${category.list_name}\">See more</button>\n        </div>\n      `;\n    })\n    .join('');\n\n  // Insert the generated markup into the top books container.\n  topBooksContainer.innerHTML = `\n    <h1 class=\"books__heading\">Best Sellers <span class=\"books__heading--highlight\">Books</span></h1>\n    ${markup}`;\n\n  // Select all elements with the class 'books__category--books'\n  const bookContainers = document.querySelectorAll('.books__category--books');\n\n  const blocks = document.querySelectorAll('.books__category');\n\n  function checkBlocksVisibility() {\n    let windowHeight = window.innerHeight;\n\n    // Iterate over each block and check its visibility\n    blocks.forEach(block => {\n      let blockPosition = block.getBoundingClientRect().top;\n\n      // Check if the block is in the viewport\n      if (blockPosition < windowHeight + 400) {\n        block.style.transition = 'opacity 0.5s ease-in-out, transform 0.5s ease-in-out';\n        block.style.opacity = '1';\n        block.style.transform = 'translateY(0)';\n      } else {\n        block.style.transition = 'opacity 0.5s ease-in-out, transform 0.5s ease-in-out';\n        block.style.opacity = '0';\n        block.style.transform = 'translateY(100%)';\n      }\n    });\n  }\n\n  // Initial check for block visibility\n  checkBlocksVisibility();\n\n  // Add a scroll event listener to continuously check and update block visibility\n  window.addEventListener('scroll', function () {\n    checkBlocksVisibility();\n  });\n\n  // Iterate over each book container\n  bookContainers.forEach(bookContainer => {\n    // Add event listener for click events on books inside the current container\n    bookContainer.addEventListener('click', event => {\n      const targetBook = event.target.closest('.books__book');\n\n      // If a book is clicked, get its ID and display details\n      if (targetBook) {\n        const bookId = targetBook.dataset.bookId;\n        displayBookById(bookId);\n      }\n    });\n  });\n};\n\n// Call the displayTopBooks function to render top books in the UI.\ndisplayTopBooks();\n","// Importing functions and elements from other modules\nimport { fetchBookById } from './bookAPI.js';\nimport { modalContainer, toggleModal } from '../modal/modalHandler.js';\nimport { bookAddButtonHandler } from '../modal/handleBookAddition.js';\n\n/**\n * Display book details by ID in a modal pop-up.\n * @param {string} bookId - The ID of the book to display.\n * @returns {void}\n */\nexport const displayBookById = async bookId => {\n  // Open the modal window\n  toggleModal(true);\n\n  // Fetch book details using the provided bookId\n  const bookById = await fetchBookById(bookId);\n\n  // Destructure book details\n  const { _id, title, author, book_image, description, buy_links } = bookById;\n\n  // Filter buy links to include only 'Amazon' and 'Apple Books'\n  const buyLinks = [\n    {\n      name: 'Amazon',\n      imageUrl: new URL('/src/images/amazon.png', import.meta.url).href,\n      buyUrl: '',\n    },\n    {\n      name: 'Apple Books',\n      imageUrl: new URL('/src/images/apple-books.png', import.meta.url).href,\n      buyUrl: '',\n    },\n  ];\n\n  const filteredBuyLinks = buy_links.filter(link =>\n    buyLinks.some(store => store.name === link.name),\n  );\n\n  buyLinks.forEach(store => {\n    const link = filteredBuyLinks.find(filteredLink => filteredLink.name === store.name);\n    store.buyUrl = link ? link.url : '';\n  });\n\n  // Generate HTML markup for buy links\n  const buyLinksMarkup = buyLinks\n    .map(\n      store =>\n        `<a href=\"${store.buyUrl}\" target=\"_blank\"><img src=\"${store.imageUrl}\" alt=\"${store.name}\"></a>`,\n    )\n    .join('');\n\n  const placeholderImageURL = new URL('/src/images/placeholder.jpg', import.meta.url).href;\n\n  // Generate modal HTML markup\n  const markup = `\n    <div class=\"modal\">\n      <div class=\"modal__info\">\n        <div class=\"modal__cover\">\n          <img class=\"lazyload\" src=\"${placeholderImageURL}\" data-src=\"${book_image}\" alt=\"${title}\">\n        </div>\n        <div class=\"modal__details\">\n          <div class=\"modal__details-header\">\n            <p class=\"modal__details-title\">${title}</p>\n            <p class=\"modal__details-author\">${author}</p>\n          </div>\n          <p class=\"modal__details-description\">${\n            description ? description : 'Sorry, the description for this book is not available.'\n          }</p>\n          <div class=\"modal__details-links\">${buyLinksMarkup}</div>\n        </div>\n      </div>\n    </div>\n    <button type=\"button\" class=\"modal-pop-up-btn button\" data-book-id=\"${_id}\">Add to shopping list</button>\n  `;\n\n  // Insert the modal markup into the modal container\n  modalContainer.innerHTML = markup;\n\n  // Call the bookAddButtonHandler to handle the \"Add to Shopping List\" button functionality\n  bookAddButtonHandler();\n};\n","/**\n * DOM element representing the container for the content inside the popup modal.\n * @type {HTMLElement}\n */\nexport const modalContainer = document.querySelector('.modal-pop-up-content');\n\n/**\n * Function to toggle the visibility of the popup modal.\n * @param {boolean} showModal - If true, show the modal; if false, hide the modal.\n */\nexport const toggleModal = showModal => {\n  /**\n   * DOM element representing the backdrop of the popup modal.\n   * @type {HTMLElement}\n   */\n  const backdrop = document.querySelector('.backdrop-pop-up');\n\n  if (showModal) {\n    // Show the modal by removing the 'is-hidden' class from the backdrop\n    backdrop.classList.remove('is-hidden');\n  } else {\n    // Hide the modal by adding the 'is-hidden' class to the backdrop\n    backdrop.classList.add('is-hidden');\n  }\n};\n\n/**\n * DOM element representing the backdrop of the popup modal.\n * @type {HTMLElement}\n */\nconst backdrop = document.querySelector('.backdrop-pop-up');\n\n/**\n * Event listener for clicking on the modal backdrop. Closes the modal.\n */\nbackdrop.addEventListener('click', function (event) {\n  // Check if the click occurred on the backdrop (not its children)\n  if (event.target === backdrop) {\n    // Close the modal only if the click occurred directly on the backdrop\n    toggleModal(false);\n  }\n});\n\n/**\n * DOM element representing the close button inside the modal.\n * @type {HTMLElement}\n */\nconst closeButton = document.querySelector('.close-modal-button');\n\n/**\n * Event listener for clicking on the close button. Clears the modal content and hides it.\n */\ncloseButton.addEventListener('click', function () {\n  // Clear the content inside the modal container\n  modalContainer.innerHTML = '';\n\n  // Hide the modal\n  toggleModal(false);\n});\n\n// Closing with keyboard keys\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape') {\n    toggleModal(false);\n  }\n});\n","// Importing functions from localStorage module for managing local storage\nimport {\n  addToLocalStorage,\n  removeFromLocalStorage,\n  checkIfBookInLocalStorage,\n  toggleCongratulatoryMessage,\n} from '../shoppingList/localStorage.js';\n\n// Importing onAuthStateChanged function and auth object from Firebase\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../auth/firebase.js';\n\n/**\n * Handle the click events for the \"Add to Shopping List\" buttons.\n */\nexport const bookAddButtonHandler = () => {\n  // Selecting all buttons with class 'modal-pop-up-btn'\n  const addToShoppingListButtons = document.querySelectorAll('.modal-pop-up-btn');\n\n  // Checking the authentication state when the page loads\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      // If the user is authenticated\n      addToShoppingListButtons.forEach(function (button) {\n        const bookId = button.getAttribute('data-book-id');\n\n        // Checking if the book is already in localStorage\n        const isBookInLocalStorage = checkIfBookInLocalStorage(bookId);\n\n        if (isBookInLocalStorage) {\n          // If the book is in localStorage, change the button text and show congratulatory message\n          button.textContent = 'Remove from the shopping list';\n          toggleCongratulatoryMessage(true);\n        } else {\n          // If the book is not in localStorage, hide the congratulatory message\n          toggleCongratulatoryMessage(false);\n        }\n\n        // Adding click event listener to the button\n        button.addEventListener('click', function () {\n          // Checking if the book is already in localStorage\n          const isBookInLocalStorage = checkIfBookInLocalStorage(bookId);\n\n          if (isBookInLocalStorage) {\n            // If the book is in localStorage, remove it and change the button text\n            removeFromLocalStorage(bookId);\n            button.textContent = 'Add to shopping list';\n            // Hide the congratulatory message\n            toggleCongratulatoryMessage(false);\n          } else {\n            // If the book is not in localStorage, add it and change the button text\n            addToLocalStorage(bookId);\n            button.textContent = 'Remove from the shopping list';\n            // Show the congratulatory message\n            toggleCongratulatoryMessage(true);\n          }\n        });\n      });\n    } else {\n      // If the user is not authenticated\n      toggleCongratulatoryMessage(false);\n\n      // Show authentication message\n      document.querySelector('.auth-message').style.display = 'block';\n\n      // Disable the buttons and visually indicate it\n      addToShoppingListButtons.forEach(function (button) {\n        button.id = 'not-allowed';\n      });\n    }\n  });\n};\n","/**\n * Generate HTML markup for displaying a book in the UI.\n *\n * @param {object} bookData - Object containing book details.\n * @param {string} bookData._id - Unique identifier for the book.\n * @param {string} bookData.title - Title of the book.\n * @param {string} bookData.author - Author of the book.\n * @param {string} bookData.book_image - URL of the book cover image.\n * @returns {string} - HTML markup for the book.\n */\nexport const createBookMarkup = ({ _id, title, author, book_image }) => {\n  // URL for a placeholder image in case the actual cover image is not available\n  const placeholderImageURL = new URL('/src/images/placeholder.jpg', import.meta.url).href;\n\n  // HTML markup for displaying a book with lazy-loaded cover image\n  return `\n      <div class=\"books__book\" data-book-id=\"${_id}\">\n        <div class=\"books__book--cover\">\n          <img class=\"lazyload\" \n            src=\"${placeholderImageURL}\"\n            data-src=\"${book_image}\"\n            alt=\"${title}\">\n          <div class=\"books__book--cover-overlay\">\n            <div class=\"books__book--cover-overlay-text\">Quick View</div>\n          </div>\n        </div>\n        <div class=\"books__book--title\">${title}</div>\n        <div class=\"books__book--author\">${author}</div>\n      </div>\n    `;\n};\n","// Importing functions and elements from other modules\nimport { fetchBooksByCategory } from './bookAPI.js';\nimport { displayTopBooks } from './fetchBooks.js';\nimport { displayBookById } from './fetchBookById.js';\nimport { topBooksContainer, booksContainer, switchView } from './viewSwitcher.js';\nimport { createBookMarkup } from './bookMarkup.js';\n\n/**\n * Display books for a specific category.\n * @param {string} categoryName - The name of the category.\n */\nconst displayBooksByCategory = async categoryName => {\n  // Fetch books for the specified category\n  const booksByCategory = await fetchBooksByCategory(categoryName);\n\n  // Check if the response is valid\n  if (!booksByCategory || !Array.isArray(booksByCategory)) {\n    console.error('Invalid response from fetchBooks:', booksByCategory);\n    return;\n  }\n\n  // Switch the view to the 'category' view\n  switchView('category');\n\n  // Generate markup for the books in the category\n  const booksMarkup = booksByCategory\n    .flat()\n    .map(book => createBookMarkup(book))\n    .join('');\n\n  // Generate markup for the category title and books\n  const lastWord = categoryName.split(' ').pop();\n\n  const categoryTitleMarkup = `\n    <div class=\"books-category visible\" data-category=\"${categoryName}\">\n      <h2 class=\"books__heading\">${categoryName.replace(\n        lastWord,\n        `<span class=\"books__heading--highlight\">${lastWord}</span>`,\n      )}</h2>\n      <div class=\"books__category--books\">\n        ${booksMarkup}\n      </div>\n    </div>\n  `;\n\n  // Update the content of the booksContainer with the generated markup\n  booksContainer.innerHTML = categoryTitleMarkup;\n\n  // Add click event listeners to each book for displaying details\n  const books = document.querySelectorAll('.books__book');\n\n  books.forEach(book => {\n    book.addEventListener('click', () => {\n      const bookId = book.dataset.bookId;\n      displayBookById(bookId);\n    });\n  });\n};\n\n/**\n * Scroll to the category section.\n */\nconst scrollToCategory = () => {\n  if (booksContainer) {\n    booksContainer.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  } else {\n    console.error('Books not found.');\n  }\n};\n\n// Event listener for 'See more' button in the topBooksContainer\ntopBooksContainer.addEventListener('click', event => {\n  const seeMoreBtn = event.target.closest('button[name=\"See more\"]');\n\n  if (seeMoreBtn) {\n    // Get the category name from the button attribute\n    const categoryName = seeMoreBtn.getAttribute('data-category');\n\n    // Display books for the selected category\n    displayBooksByCategory(categoryName);\n\n    // Highlight the active category button and scroll to it\n    const categoryListButtons = document.querySelectorAll('.category-list button[name]');\n    categoryListButtons.forEach(button => {\n      button.classList.remove('active');\n      if (button.getAttribute('name') === categoryName) {\n        button.classList.add('active');\n        button.scrollIntoView({\n          behavior: 'smooth',\n          block: 'center',\n        });\n      }\n    });\n\n    // Scroll to the category section\n    scrollToCategory();\n  }\n});\n\n// Event listener for category buttons in the categoryListContainer\nconst categoryListContainer = document.querySelector('.category-list');\ncategoryListContainer.addEventListener('click', event => {\n  const targetButton = event.target.closest('button[name]');\n\n  if (targetButton) {\n    // Remove 'active' class from all buttons and add it to the clicked button\n    const allButtons = document.querySelectorAll('button[name]');\n    allButtons.forEach(button => button.classList.remove('active'));\n    targetButton.classList.add('active');\n\n    // Get the category name from the clicked button\n    const categoryName = targetButton.getAttribute('name');\n\n    // Display books based on the selected category or display top books for 'All categories'\n    if (categoryName === 'All categories') {\n      displayTopBooks();\n    } else {\n      displayBooksByCategory(categoryName);\n      // Scroll to the category section\n      scrollToCategory();\n    }\n  }\n});\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$d49cb2d7b03f6a77$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$d49cb2d7b03f6a77$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$27e6227805be987d$export$c61ab8dbb8180937","document","querySelector","$27e6227805be987d$export$278e8a5cfb9675fd","$27e6227805be987d$export$adaf8a367aa41030","view","classList","add","remove","$5fMSm","$fa7ed9398f6878f9$var$displayCategories","categoriesContainer","bookCategories","fetchCategories","sort","a","b","list_name","localeCompare","markup","map","join","insertAdjacentHTML","$de26aedcbf813521$export$56c24f306bd986cf","$de26aedcbf813521$export$313c6d35f75fc0e","showModal","backdrop","$de26aedcbf813521$var$backdrop","addEventListener","event","target","$de26aedcbf813521$var$closeButton","innerHTML","key","$85S5k","$46SdE","$gwo96","$3f8b070706872eb3$export$b88da0071e018418","addToShoppingListButtons","querySelectorAll","onAuthStateChanged","auth","user","forEach","button","bookId","getAttribute","checkIfBookInLocalStorage","textContent","toggleCongratulatoryMessage","removeFromLocalStorage","addToLocalStorage","style","display","$607d65135f87f2d8$export$bf9992c3deac5c9e","_id","title","author","book_image","description","buy_links","fetchBookById","buyLinks","name","imageUrl","href","buyUrl","filteredBuyLinks","filter","link","some","store","find","filteredLink","buyLinksMarkup","placeholderImageURL","$947af5597400bf1e$export$fc330cc8afb2a391","$2cc47901a270de70$export$4dba50aa73299466","topBooks","fetchTopBooks","category","booksMarkup","books","book","bookContainers","blocks","checkBlocksVisibility","windowHeight","window","innerHeight","block","blockPosition","getBoundingClientRect","top","transition","opacity","transform","bookContainer","targetBook","closest","dataset","$34f89606dfb6c23a$var$displayBooksByCategory","categoryName","booksByCategory","fetchBooksByCategory","Array","isArray","console","error","flat","lastWord","split","pop","categoryTitleMarkup","replace","$34f89606dfb6c23a$var$scrollToCategory","scrollIntoView","behavior","seeMoreBtn","categoryListButtons","$34f89606dfb6c23a$var$categoryListContainer","targetButton","allButtons"],"version":3,"file":"index.64e54ad2.js.map"}